package com.saucypixelstudios.trixeltechnician.camera;

import java.awt.Color;
import java.awt.Graphics;
import java.awt.Polygon;

import com.saucypixelstudios.trixeltechnician.trixels.Trixel;
import com.saucypixelstudios.trixeltechnician.trixels.TrixelHandler;

public class Camera {
	private int x;
	private int y;
	private double zoom;

	public Camera(int x, int y, double zoom){
		this.x = x;
		this.y = y;
		this.zoom = zoom;
	}

	public void fillTrixelRelative(Graphics g, Trixel trixel, TrixelHandler trixelHandler){
		Polygon shape = trixel.getShape();
		int nPoints = shape.npoints; 
		int[] xPoints = new int[nPoints];
		int[] yPoints = new int[nPoints];
		for(int i = 0; i < nPoints; i++){
			xPoints[i] = (int) (shape.xpoints[i] * zoom);
			xPoints[i] -= x;
			yPoints[i] = (int) (shape.ypoints[i] * zoom);
			yPoints[i] -= x;
		}
		Polygon scaledShape = new Polygon(xPoints, yPoints, nPoints);

		g.setColor(trixel.getColor());
		g.fillPolygon(scaledShape);
	}

	public void drawTrixelRelative(Graphics g, Trixel trixel, TrixelHandler trixelHandler){
		Polygon shape = trixel.getShape();
		int nPoints = shape.npoints; 
		int[] xPoints = new int[nPoints];
		int[] yPoints = new int[nPoints];
		for(int i = 0; i < nPoints; i++){
			xPoints[i] = (int) (shape.xpoints[i] * zoom);
			xPoints[i] -= x;
			yPoints[i] = (int) (shape.ypoints[i] * zoom);
			yPoints[i] -= x;
		}
		Polygon scaledShape = new Polygon(xPoints, yPoints, nPoints);

		g.setColor(Color.BLACK);
		g.drawPolygon(scaledShape);
	}
	
	public Polygon scaleTrixel(){
		Polygon shape = trixel.getShape();
		int nPoints = shape.npoints; 
		int[] xPoints = new int[nPoints];
		int[] yPoints = new int[nPoints];
		for(int i = 0; i < nPoints; i++){
			xPoints[i] = (int) (shape.xpoints[i] * zoom);
			xPoints[i] -= x;
			yPoints[i] = (int) (shape.ypoints[i] * zoom);
			yPoints[i] -= x;
		}
		return new Polygon(xPoints, yPoints, nPoints);
	}
}
